[{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\application\\dto\\user.dto.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\application\\handlers\\login.handler.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../use-cases/login.use-case\" is not allowed.","line":1,"column":30,"nodeType":"Literal","endLine":1,"endColumn":59},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../dto/user.dto\" is not allowed.","line":2,"column":44,"nodeType":"Literal","endLine":2,"endColumn":61}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { LoginUseCase } from '../use-cases/login.use-case';\r\nimport { LoginDto, LoginResponseDto } from '../dto/user.dto';\r\n\r\nexport class LoginHandler {\r\n  constructor(private readonly loginUseCase: LoginUseCase) {}\r\n\r\n  /**\r\n   * Orchestrates the login process.\r\n   */\r\n  async handle(dto: LoginDto): Promise<LoginResponseDto> {\r\n    return await this.loginUseCase.execute(dto);\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\application\\handlers\\register-user.handler.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../use-cases/create-user.use-case\" is not allowed.","line":1,"column":35,"nodeType":"Literal","endLine":1,"endColumn":70},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../dto/user.dto\" is not allowed.","line":2,"column":48,"nodeType":"Literal","endLine":2,"endColumn":65}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { CreateUserUseCase } from '../use-cases/create-user.use-case';\r\nimport { CreateUserDto, UserResponseDto } from '../dto/user.dto';\r\n\r\nexport class RegisterUserHandler {\r\n  constructor(private readonly createUserUseCase: CreateUserUseCase) {}\r\n\r\n  /**\r\n   * Orchestrates the registration process.\r\n   * In the future, this can handle multi-step registrations, \r\n   * multiple use-case coordination, and transaction management.\r\n   */\r\n  async handle(dto: CreateUserDto): Promise<UserResponseDto> {\r\n    // For now, it delegates to the use case, but provides the orchestration boundary.\r\n    // In a complex system, this might coordinate with Organization registration, Billing setup, etc.\r\n    return await this.createUserUseCase.execute(dto);\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\application\\index.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./handlers/register-user.handler\" is not allowed.","line":1,"column":37,"nodeType":"Literal","endLine":1,"endColumn":71},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./handlers/login.handler\" is not allowed.","line":2,"column":30,"nodeType":"Literal","endLine":2,"endColumn":56},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./use-cases/create-user.use-case\" is not allowed.","line":3,"column":35,"nodeType":"Literal","endLine":3,"endColumn":69},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./use-cases/login.use-case\" is not allowed.","line":4,"column":30,"nodeType":"Literal","endLine":4,"endColumn":58},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./dto/user.dto\" is not allowed.","line":5,"column":81,"nodeType":"Literal","endLine":5,"endColumn":97},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./ports/jwt.port\" is not allowed.","line":6,"column":34,"nodeType":"Literal","endLine":6,"endColumn":52},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./ports/password-hasher.port\" is not allowed.","line":7,"column":38,"nodeType":"Literal","endLine":7,"endColumn":68}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export { RegisterUserHandler } from './handlers/register-user.handler';\r\nexport { LoginHandler } from './handlers/login.handler';\r\nexport { CreateUserUseCase } from './use-cases/create-user.use-case';\r\nexport { LoginUseCase } from './use-cases/login.use-case';\r\nexport type { CreateUserDto, LoginDto, UserResponseDto, LoginResponseDto } from './dto/user.dto';\r\nexport type { IJwtService } from './ports/jwt.port';\r\nexport type { IPasswordHasher } from './ports/password-hasher.port';\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\application\\ports\\jwt.port.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\application\\ports\\password-hasher.port.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\application\\use-cases\\create-user.use-case.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../../domain/entities/user.entity\" is not allowed.","line":1,"column":22,"nodeType":"Literal","endLine":1,"endColumn":57},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../dto/user.dto\" is not allowed.","line":2,"column":48,"nodeType":"Literal","endLine":2,"endColumn":65},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../../domain/repositories/user.repository\" is not allowed.","line":3,"column":33,"nodeType":"Literal","endLine":3,"endColumn":76},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../ports/password-hasher.port\" is not allowed.","line":4,"column":33,"nodeType":"Literal","endLine":4,"endColumn":64},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../../domain/value-objects\" is not allowed.","line":5,"column":50,"nodeType":"Literal","endLine":5,"endColumn":78},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../../domain/policies/unique-email.policy\" is not allowed.","line":6,"column":35,"nodeType":"Literal","endLine":6,"endColumn":78},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../../domain/policies/password-strength.policy\" is not allowed.","line":7,"column":40,"nodeType":"Literal","endLine":7,"endColumn":88}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { User } from '../../domain/entities/user.entity';\r\nimport { CreateUserDto, UserResponseDto } from '../dto/user.dto';\r\nimport { IUserRepository } from '../../domain/repositories/user.repository';\r\nimport { IPasswordHasher } from '../ports/password-hasher.port';\r\nimport { Email, Password, UserName, Phone } from '../../domain/value-objects';\r\nimport { UniqueEmailPolicy } from '../../domain/policies/unique-email.policy';\r\nimport { PasswordStrengthPolicy } from '../../domain/policies/password-strength.policy';\r\n\r\nexport class CreateUserUseCase {\r\n  constructor(\r\n    private readonly userRepository: IUserRepository,\r\n    private readonly passwordHasher: IPasswordHasher,\r\n    private readonly uniqueEmailPolicy: UniqueEmailPolicy,\r\n    private readonly passwordStrengthPolicy: PasswordStrengthPolicy\r\n  ) {}\r\n\r\n  async execute(dto: CreateUserDto): Promise<UserResponseDto> {\r\n    // 1. Business Policy: Check if email already exists\r\n    const isUnique = await this.uniqueEmailPolicy.isSatisfiedBy(dto.email);\r\n    if (!isUnique) {\r\n      throw new Error('validation.user.email_already_exists');\r\n    }\r\n\r\n    // 2. Business Policy: Password strength check (Secondary domain level check)\r\n    if (!this.passwordStrengthPolicy.isSatisfiedBy(dto.password)) {\r\n      throw new Error(this.passwordStrengthPolicy.getErrorMessage());\r\n    }\r\n\r\n    // 3. Create Value Objects (Validation & Logic)\r\n    const email = Email.create(dto.email);\r\n    const passwordVO = Password.create(dto.password);\r\n    const name = UserName.create(dto.name.firstName, dto.name.lastName);\r\n    const phone = Phone.createOptional(dto.phone);\r\n\r\n    // 4. Security: Hash Password\r\n    const hashedPassword = await this.passwordHasher.hash(passwordVO.toString());\r\n\r\n    // 5. Instantiate Domain Entity\r\n    const user = new User(\r\n      crypto.randomUUID(),\r\n      name.toObject() as any,\r\n      email.toString(),\r\n      phone ? phone.toString() : null,\r\n      hashedPassword,\r\n      dto.needsPasswordChange ?? false,\r\n      null,\r\n      dto.isEmailVerified ?? false,\r\n      dto.isPhoneVerified ?? false,\r\n      dto.status ?? 'PENDING' as any,\r\n      dto.isActive ?? true,\r\n      false, // isDeleted\r\n      dto.isSuperAdmin ?? false,\r\n      dto.globalRoles ?? [],\r\n      dto.directPermissions ?? [],\r\n      dto.businessAccess ?? [],\r\n      null, // lastLogin\r\n      [], // loginHistory\r\n      dto.settings ?? { theme: 'system', tableHeight: 'medium' },\r\n      dto.metadata ?? {},\r\n      dto.organization,\r\n      dto.region\r\n    );\r\n\r\n    // 6. Persistence\r\n    await this.userRepository.save(user);\r\n\r\n    // 7. Return Response DTO\r\n    return {\r\n      id: user.id,\r\n      name: user.name,\r\n      email: user.email,\r\n      phone: user.phone,\r\n      isEmailVerified: user.isEmailVerified,\r\n      isPhoneVerified: user.isPhoneVerified,\r\n      status: user.status,\r\n      isActive: user.isActive,\r\n      isSuperAdmin: user.isSuperAdmin,\r\n      globalRoles: user.globalRoles,\r\n      directPermissions: user.directPermissions,\r\n      businessAccess: user.businessAccess,\r\n      lastLogin: user.lastLogin,\r\n      loginHistory: user.loginHistory,\r\n      settings: user.settings,\r\n      organization: user.organization,\r\n      region: user.region,\r\n      createdAt: user.createdAt,\r\n    };\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\application\\use-cases\\login.use-case.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../dto/user.dto\" is not allowed.","line":1,"column":44,"nodeType":"Literal","endLine":1,"endColumn":61},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../../domain/repositories/user.repository\" is not allowed.","line":2,"column":33,"nodeType":"Literal","endLine":2,"endColumn":76},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../ports/password-hasher.port\" is not allowed.","line":3,"column":33,"nodeType":"Literal","endLine":3,"endColumn":64},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../ports/jwt.port\" is not allowed.","line":4,"column":29,"nodeType":"Literal","endLine":4,"endColumn":48}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { LoginDto, LoginResponseDto } from '../dto/user.dto';\r\nimport { IUserRepository } from '../../domain/repositories/user.repository';\r\nimport { IPasswordHasher } from '../ports/password-hasher.port';\r\nimport { IJwtService } from '../ports/jwt.port';\r\n\r\nexport class LoginUseCase {\r\n  constructor(\r\n    private readonly userRepository: IUserRepository,\r\n    private readonly passwordHasher: IPasswordHasher,\r\n    private readonly jwtService: IJwtService\r\n  ) {}\r\n\r\n  async execute(dto: LoginDto): Promise<LoginResponseDto> {\r\n    // 1. Find User\r\n    const user = await this.userRepository.findByEmail(dto.email);\r\n    if (!user) {\r\n      throw new Error('validation.user.invalid_credentials');\r\n    }\r\n\r\n    // 2. Check if user is eligible to login (Domain Logic in Entity)\r\n    if (!user.canLogin()) {\r\n      throw new Error('validation.user.account_disabled');\r\n    }\r\n\r\n    // 3. Verify Password\r\n    const isPasswordValid = await this.passwordHasher.compare(dto.password, user.getPassword() || '');\r\n    if (!isPasswordValid) {\r\n      throw new Error('validation.user.invalid_credentials');\r\n    }\r\n\r\n    // 4. Generate Token\r\n    const accessToken = this.jwtService.generateToken({\r\n      sub: user.id,\r\n      email: user.email,\r\n      roles: user.globalRoles,\r\n    });\r\n\r\n    // 5. Return Response\r\n    return {\r\n      accessToken,\r\n      user: {\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        phone: user.phone,\r\n        isEmailVerified: user.isEmailVerified,\r\n        isPhoneVerified: user.isPhoneVerified,\r\n        status: user.status,\r\n        isActive: user.isActive,\r\n        isSuperAdmin: user.isSuperAdmin,\r\n        globalRoles: user.globalRoles,\r\n        directPermissions: user.directPermissions,\r\n        businessAccess: user.businessAccess,\r\n        lastLogin: user.lastLogin,\r\n        loginHistory: user.loginHistory,\r\n        settings: user.settings,\r\n        organization: user.organization,\r\n        region: user.region,\r\n        createdAt: user.createdAt,\r\n      },\r\n    };\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\entities\\user.entity.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../value-objects/user-types\" is not allowed.","line":8,"column":8,"nodeType":"Literal","endLine":8,"endColumn":37}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\r\n  UserStatus,\r\n  IUserName,\r\n  ILoginHistory,\r\n  IUserDetail,\r\n  IDirectPermission,\r\n  IBusinessAccess,\r\n} from '../value-objects/user-types';\r\n\r\nexport class User {\r\n  constructor(\r\n    public readonly id: string,\r\n\r\n    // Identity\r\n    public name: IUserName,\r\n    public email: string,\r\n    public phone: string | null,\r\n\r\n    // Auth\r\n    private password: string | null,\r\n    public needsPasswordChange: boolean,\r\n    public passwordChangedAt: Date | null,\r\n\r\n    // Verification\r\n    public isEmailVerified: boolean,\r\n    public isPhoneVerified: boolean,\r\n\r\n    // Status\r\n    public status: UserStatus,\r\n    public isActive: boolean,\r\n    public isDeleted: boolean,\r\n\r\n    // Authorization\r\n    public isSuperAdmin: boolean,\r\n    public globalRoles: string[],\r\n    public directPermissions: IDirectPermission[],\r\n\r\n    // Domain Access\r\n    public businessAccess: IBusinessAccess[],\r\n\r\n    // Activity\r\n    public lastLogin: Date | null,\r\n    public loginHistory: ILoginHistory[],\r\n\r\n    // UI & Meta\r\n    public settings: IUserDetail,\r\n    public metadata: Record<string, any>,\r\n\r\n    // Tenant\r\n    public organization?: string,\r\n    public region?: string,\r\n\r\n    // Audit\r\n    public createdBy?: string,\r\n    public updatedBy?: string,\r\n    public createdAt?: Date,\r\n    public updatedAt?: Date\r\n  ) {}\r\n\r\n  public getPassword(): string | null {\r\n    return this.password;\r\n  }\r\n\r\n  /**\r\n   * Business Rule: Check if user is eligible to login\r\n   */\r\n  canLogin(): boolean {\r\n    return this.isActive && !this.isDeleted && this.status === UserStatus.ACTIVE;\r\n  }\r\n\r\n  /**\r\n   * Business Rule: Change password and update state\r\n   */\r\n  changePassword(hashed: string) {\r\n    this.password = hashed;\r\n    this.needsPasswordChange = false;\r\n    this.passwordChangedAt = new Date();\r\n  }\r\n\r\n  /**\r\n   * Business Policy: Check if user is a Tenant Owner\r\n   */\r\n  isOwner(): boolean {\r\n    return this.businessAccess.some((access) => access.role === 'OWNER');\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\events\\identity.events.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\index.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./entities/user.entity\" is not allowed.","line":1,"column":22,"nodeType":"Literal","endLine":1,"endColumn":46},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./events/identity.events\" is not allowed.","line":2,"column":69,"nodeType":"Literal","endLine":2,"endColumn":95},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./policies/unique-email.policy\" is not allowed.","line":3,"column":35,"nodeType":"Literal","endLine":3,"endColumn":67},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./policies/password-strength.policy\" is not allowed.","line":4,"column":40,"nodeType":"Literal","endLine":4,"endColumn":77},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./repositories/user.repository\" is not allowed.","line":5,"column":38,"nodeType":"Literal","endLine":5,"endColumn":70}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export { User } from './entities/user.entity';\r\nexport { DomainEvent, UserRegisteredEvent, UserLoggedInEvent } from './events/identity.events';\r\nexport { UniqueEmailPolicy } from './policies/unique-email.policy';\r\nexport { PasswordStrengthPolicy } from './policies/password-strength.policy';\r\nexport type { IUserRepository } from './repositories/user.repository';\r\nexport { Email, Password, UserName, Phone } from './value-objects';\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\policies\\password-strength.policy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\policies\\unique-email.policy.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../repositories/user.repository\" is not allowed.","line":1,"column":33,"nodeType":"Literal","endLine":1,"endColumn":66}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { IUserRepository } from '../repositories/user.repository';\r\n\r\nexport class UniqueEmailPolicy {\r\n  constructor(private readonly userRepository: IUserRepository) {}\r\n\r\n  async isSatisfiedBy(email: string): Promise<boolean> {\r\n    const user = await this.userRepository.findByEmail(email);\r\n    return !user;\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\repositories\\user.repository.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../entities/user.entity\" is not allowed.","line":1,"column":22,"nodeType":"Literal","endLine":1,"endColumn":47}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { User } from '../entities/user.entity';\r\n\r\nexport interface IUserRepository {\r\n  save(user: User): Promise<void>;\r\n  findById(id: string): Promise<User | null>;\r\n  findByEmail(email: string): Promise<User | null>;\r\n  update(user: User): Promise<void>;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\value-objects\\email.vo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\value-objects\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\value-objects\\password.vo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\value-objects\\phone.vo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\value-objects\\user-name.vo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\domain\\value-objects\\user-types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\infrastructure\\http\\controllers\\user.controller.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\infrastructure\\http\\routes\\user.routes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\infrastructure\\index.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./http/controllers/user.controller\" is not allowed.","line":1,"column":32,"nodeType":"Literal","endLine":1,"endColumn":68},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./http/routes/user.routes\" is not allowed.","line":2,"column":34,"nodeType":"Literal","endLine":2,"endColumn":61},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./persistence/mongoose/user.repository.impl\" is not allowed.","line":3,"column":40,"nodeType":"Literal","endLine":3,"endColumn":85},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./persistence/mongoose/user.mapper\" is not allowed.","line":4,"column":39,"nodeType":"Literal","endLine":4,"endColumn":75},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./services/bcrypt-password.service\" is not allowed.","line":5,"column":39,"nodeType":"Literal","endLine":5,"endColumn":75},{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"./services/jwt.service\" is not allowed.","line":6,"column":28,"nodeType":"Literal","endLine":6,"endColumn":52}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export { UserController } from './http/controllers/user.controller';\r\nexport { createUserRouter } from './http/routes/user.routes';\r\nexport { MongooseUserRepository } from './persistence/mongoose/user.repository.impl';\r\nexport { UserPersistenceMapper } from './persistence/mongoose/user.mapper';\r\nexport { BcryptPasswordService } from './services/bcrypt-password.service';\r\nexport { JwtService } from './services/jwt.service';\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\infrastructure\\persistence\\mongoose\\user.mapper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\infrastructure\\persistence\\mongoose\\user.model.ts","messages":[{"ruleId":"import/no-internal-modules","severity":2,"message":"Reaching to \"../../../domain/value-objects/user-types\" is not allowed.","line":2,"column":28,"nodeType":"Literal","endLine":2,"endColumn":70}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose, { Schema, Document } from 'mongoose';\r\nimport { UserStatus } from '../../../domain/value-objects/user-types';\r\n\r\nexport interface IUserDocument extends Document {\r\n  _id: string;\r\n  firstName: string;\r\n  lastName?: string;\r\n  email: string;\r\n  phone: string | null;\r\n  password: string | null;\r\n  needsPasswordChange: boolean;\r\n  passwordChangedAt: Date | null;\r\n  isEmailVerified: boolean;\r\n  isPhoneVerified: boolean;\r\n  status: UserStatus;\r\n  isActive: boolean;\r\n  isDeleted: boolean;\r\n  isSuperAdmin: boolean;\r\n  globalRoles: string[];\r\n  directPermissions: any[];\r\n  businessAccess: any[];\r\n  lastLogin: Date | null;\r\n  loginHistory: any[];\r\n  settings: any;\r\n  metadata: any;\r\n  organization?: string;\r\n  region?: string;\r\n  createdBy?: string;\r\n  updatedBy?: string;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\nconst UserSchema = new Schema<IUserDocument>(\r\n  {\r\n    _id: { type: String, required: true },\r\n    firstName: { type: String, required: true, trim: true },\r\n    lastName: { type: String, trim: true },\r\n    email: { type: String, required: true, unique: true, lowercase: true, trim: true },\r\n    phone: { type: String, default: null },\r\n    password: { type: String, default: null },\r\n    needsPasswordChange: { type: Boolean, default: false },\r\n    passwordChangedAt: { type: Date, default: null },\r\n    isEmailVerified: { type: Boolean, default: false },\r\n    isPhoneVerified: { type: Boolean, default: false },\r\n    status: { type: String, enum: Object.values(UserStatus), default: UserStatus.PENDING },\r\n    isActive: { type: Boolean, default: true },\r\n    isDeleted: { type: Boolean, default: false },\r\n    isSuperAdmin: { type: Boolean, default: false },\r\n    globalRoles: [{ type: String }],\r\n    directPermissions: [{ type: Schema.Types.Mixed }],\r\n    businessAccess: [{ type: Schema.Types.Mixed }],\r\n    lastLogin: { type: Date, default: null },\r\n    loginHistory: [{ type: Schema.Types.Mixed }],\r\n    settings: { type: Schema.Types.Mixed, default: {} },\r\n    metadata: { type: Schema.Types.Mixed, default: {} },\r\n    organization: { type: String, index: true },\r\n    region: { type: String },\r\n    createdBy: { type: String },\r\n    updatedBy: { type: String },\r\n  },\r\n  {\r\n    timestamps: true,\r\n    _id: false, // We use string IDs\r\n  }\r\n);\r\n\r\nexport const UserModel = mongoose.model<IUserDocument>('User', UserSchema);\r\n","usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\infrastructure\\persistence\\mongoose\\user.repository.impl.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\infrastructure\\services\\bcrypt-password.service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"E:\\WEB-DEVELOPMENT\\PROJECTS\\business-platform\\banijjik\\apps\\backend\\src\\core\\identity\\infrastructure\\services\\jwt.service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
